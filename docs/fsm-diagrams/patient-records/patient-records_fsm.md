# patient-records

**Description:** 

**Generated from:** `patient-records.yaml`
**Machine Name:** `unknown`
**Version:** `unknown`
**Job Type:** `unknown`

---

## Main State Machine Flow

```mermaid
stateDiagram-v2
    [*] --> summarizing

    %% SUMMARIZING
    state SUMMARIZING {
        [*] --> summarizing
        summarizing --> summarizing : summary_invalid
        summarizing --> [*] : timeout(30)
        summarizing --> [*] : summary_complete
        summarizing --> [*] : processing_error
    }

    %% FACT_CHECKING
    state FACT_CHECKING {
        [*] --> fact_checking
        fact_checking --> [*] : timeout(30)
        fact_checking --> [*] : validation_passed
        fact_checking --> [*] : validation_failed
        fact_checking --> [*] : processing_error
    }

    %% COMPLETED
    state COMPLETED {
        [*] --> failed
        [*] --> ready
        [*] --> shutdown
        failed --> [*] : retry_report
        ready --> [*] : process_next
    }

    %% Transitions
    SUMMARIZING --> FACT_CHECKING : timeout(30)
    SUMMARIZING --> FACT_CHECKING : summary_complete
    FACT_CHECKING --> COMPLETED : timeout(30)
    FACT_CHECKING --> COMPLETED : validation_passed
    FACT_CHECKING --> SUMMARIZING : validation_failed
    SUMMARIZING --> COMPLETED : processing_error
    FACT_CHECKING --> COMPLETED : processing_error
    COMPLETED --> SUMMARIZING : retry_report
    COMPLETED --> SUMMARIZING : process_next

```

---

## Error Handling Flow

```mermaid
stateDiagram-v2
    %% Error Handling Flow
    failed : failed
    fact_checking : fact_checking
    summarizing : summarizing
    summarizing --> failed : processing_error
    fact_checking --> failed : processing_error
```

---

## Stop/Shutdown Flow

```mermaid
stateDiagram-v2
    %% Stop/Shutdown Flow
    shutdown : shutdown
    stopped --> [*]
    summarizing --> shutdown : stop
    fact_checking --> shutdown : stop
    ready --> shutdown : stop
```

---

## States Overview

| State | Description | Key Actions |
|-------|-------------|-------------|
| `summarizing` | Summarizing | log, log, log |
| `fact_checking` | Fact Checking | log, log |
| `ready` | Ready | log, complete_job, bash |
| `failed` | Failed | log |
| `shutdown` | Shutdown | log |

---

## Events Overview

| Event | Type | Description |
|-------|------|-------------|
| `summary_complete` | Internal | Summary Complete |
| `summary_invalid` | Internal | Summary Invalid |
| `validation_passed` | Internal | Validation Passed |
| `validation_failed` | Error | Validation Failed |
| `processing_error` | Internal | Processing Error |
| `retry_report` | Internal | Retry Report |
| `process_next` | Internal | Process Next |
| `job_completed` | Success | Job Completed |
| `completion_failed` | Error | Completion Failed |
| `stop` | Control | Stop |

---

## Configuration Summary

- **States:** 5
- **Events:** 10
- **Transitions:** 11
- **Initial State:** `summarizing`

---

*Generated by yaml_to_fsm.py*